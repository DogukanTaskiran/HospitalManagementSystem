@model Entities.Models.Patient

<h1 style="margin-top: 30px;">My Profile</h1>

<div class="card text-center">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="#" onclick="showDetails()">My Details</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="#" onclick="showContactInfo()">My Contact Information</a>
            </li>
        </ul>
    </div>
    <div class="card-body">
        <div id="detailsContent">
            <table class="container p-2 my-4 border">
                <tr>
                        <th>Name</th>
                        <td>@Model.Name</td>
                    </tr>
                    <tr>
                        <th>Surname</th>
                        <td>@Model.Surname</td>
                    </tr>
                    @if (Model.Age != null)
                    {
                        <tr>
                            <th>Age</th>
                            <td>@Model.Age </td>
                        </tr>
                    }
                    @if (Model.Weight != null)
                    {
                        <tr>
                            <th>Weight</th>
                            <td>@Model.Weight </td>
                        </tr>
                    }
                    @if (Model.Height != null)
                    {
                        <tr>
                            <th>Height</th>
                            <td>@Model.Height </td>
                        </tr>
                    }
                    <tr>
                        <th>Gender</th>
                        <td>@Model.Gender</td>
                    </tr>
                    <tr>
                        <th>Blood Type</th>
                        <td>@Model.BloodType</td>
                    </tr>

                </table>
        </div>
        <div id="contactInfoContent" style="display: none;">
            <table class="container p-2 my-4 border">
                <thead>
                    <tr>
                        <th>Phone Number</th>
                        <td>@Model.PhoneNumber</td>
                    </tr>
                    <tr>
                        <th>Address</th>
                        <td>@Model.Address</td>
                    </tr>
                    <tr>
                        <th>E-mail</th>
                        <td>@Model.Email</td>
                    </tr>
                </thead>
            </table>
        </div>
        <a asp-controller="Patient" asp-action="UpdateDetails" class="btn btn-primary">Update my details</a>
    </div>
</div>

<script>
    function showDetails() {
        document.getElementById('detailsContent').style.display = 'block';
        document.getElementById('contactInfoContent').style.display = 'none';
    }

    function showContactInfo() {
        document.getElementById('detailsContent').style.display = 'none';
        document.getElementById('contactInfoContent').style.display = 'block';
    }
</script>



<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->


<h2 style="margin-top: 30px;">● Appointments</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>Date</th>
            <th>Hour</th>
            <th>Hospital</th>
            <th>Department</th>
            <th>Doctor</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Appointments != null)
        {
            @foreach (var appointment in Model.Appointments)
            {
                <tr>
                    <td>@appointment.AppointmentDate</td>
                    <td>@appointment.Doctor.Name</td>
                </tr>
            }
        }
    </tbody>
</table>
<hr>
<h2 style="margin-top: 30px;">● Invoices</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>Date</th>
            <th>ServiceDescription</th>
            <th>Price</th>
            <th>Department</th>
            <th>Doctor</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Invoices != null)
        {
            @foreach (var Invoices in Model.Invoices)
            {
                <tr>
                    <td>@Invoices.InvoiceDate</td>
                    <td>@Invoices.ServiceDescription</td>
                    <td>@Invoices.InvoicePrice</td>
                </tr>
            }
        }
    </tbody>
</table>
<hr>
<h2 style="margin-top: 30px;">● Prescription</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>Date</th>
            <th>Doctor Name</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Prescriptions != null)
        {
            @foreach (var prescription in Model.Prescriptions)
            {
                <tr>
                    <td>@prescription.PrescriptionDate</td>
                    <td>@prescription.Doctor.Name</td>
                    <td>@prescription.Status</td>
                </tr>
            }
        }
    </tbody>
</table>
<hr>
<h2 style="margin-top: 30px;">● Diagnosis</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>Date</th>
            <th>Doctor Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Diagnoses != null)
        {
            @foreach (var diagnosis in Model.Diagnoses)
            {
                <tr>
                    <td>@diagnosis.DiagnosisDate</td>
                    <td>@diagnosis.Doctor.Name</td>
                    <td>@diagnosis.DiagnosisDescription</td>
                </tr>
            }
        }
    </tbody>
</table>
<hr>
<h2 style="margin-top: 30px;">● Reports</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>ID</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Diagnoses != null)
        {
            @foreach (var reports in Model.Reports)
            {
                <tr>
                    <td>@reports.ReportID</td>
                    <td>@reports.ReportDescription</td>
                </tr>
            }
        }
    </tbody>
</table>
<hr>
<h2 style="margin-top: 30px;">● Radiological Reports</h2>
<table class="container p-2 my-4 border">
    <thead>
        <tr>
            <th>ID</th>
            <th>Description</th>
            <th>Image</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Diagnoses != null)
        {
            @foreach (var radiologicalReports in Model.RadiologicalReports)
            {
                <tr>
                    <td>@radiologicalReports.RadiologicalReportID</td>
                    <td>@radiologicalReports.RrDescription</td>
                    <td>@radiologicalReports.RrImage</td>
                </tr>
            }
        } 
    </tbody>
</table>
<hr>